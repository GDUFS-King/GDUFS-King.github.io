
<!DOCTYPE html>
<html lang="zh-Hans" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>安卓开发入门 - V1ct0r的博客</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="TriDiamond Obsidian,"> 
    <meta name="description" content="一、准备工作1、android studio +自带模拟器（或者真机root）
2、frida（一个hook神器）
3、jeb（反编译利器）
4、java环境变量jdk的配置（谷歌）
5、gradl,"> 
    <meta name="author" content="V1ct0r"> 
    <link rel="alternative" href="atom.xml" title="V1ct0r的博客" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    <link href="https://fonts.loli.net/css?family=Roboto+Mono|Rubik&display=swap" rel="stylesheet">
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1429596_nzgqgvnmkjb.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.7.2/animate.min.css">

    
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/codemirror.min.css">

    
<link rel="stylesheet" href="//cdn.bootcss.com/codemirror/5.48.4/theme/dracula.css">

    
<link rel="stylesheet" href="/css/obsidian.css">

    
<link rel="stylesheet" href="/css/ball-atom.min.css">

<meta name="generator" content="Hexo 4.2.1"></head>


<body class="loading">
    <div class="loader">
        <div class="la-ball-atom la-2x">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <span id="config-title" style="display:none">V1ct0r的博客</span>
    <div id="loader"></div>
    <div id="single">
    <div class="scrollbar gradient-bg-rev"></div>
<div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <div class="navigation animated fadeIn fast delay-1s">
        <img id="home-icon" class="icon-home" src="/img/favicon.png" alt="" data-url="http://yoursite.com">
        <div id="play-icon" title="Play/Pause" class="iconfont icon-play"></div>
        <h3 class="subtitle">安卓开发入门</h3>
        <div class="social">
            <!--        <div class="like-icon">-->
            <!--            <a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
            <!--        </div>-->
            <div>
                <div class="share">
                    
                        <a href="javascript:;" class="iconfont icon-share1"></a>
                        <div class="share-component-cc" data-disabled="facebook,douban,linkedin,diandian,tencent,google"></div>
                    
                </div>
            </div>
        </div>
    </div>
</div>

    <div class="section">
        <div class=article-header-wrapper>
    <div class="article-header">
        <div class="article-cover animated fadeIn" style="
            animation-delay: 600ms;
            animation-duration: 1.2s;
            background-image: 
                radial-gradient(ellipse closest-side, rgba(0, 0, 0, 0.65), #100e17),
                url(/img/cover.jpg) ">
        </div>
        <div class="else">
            <p class="animated fadeInDown">
                
                <a href="/categories/Android"><b>「
                    </b>ANDROID<b> 」</b></a>
                
                January 29, 2020
            </p>
            <h3 class="post-title animated fadeInDown"><a href="/2020/01/29/%E5%AE%89%E5%8D%93%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/" title="安卓开发入门" class="">安卓开发入门</a>
            </h3>
            
            <p class="post-count animated fadeInDown">
                
                <span>
                    <b class="iconfont icon-text2"></b> <i>Words count</i>
                    138k
                </span>
                
                
                <span>
                    <b class="iconfont icon-timer__s"></b> <i>Reading time</i>
                    2:06
                </span>
                
                
                
                <span id="busuanzi_container_page_pv">
                    <b class="iconfont icon-read"></b> <i>Read count</i>
                    <span id="busuanzi_value_page_pv">0</span>
                </span>
                
            </p>
            
            
            <ul class="animated fadeInDown post-tags-list" itemprop="keywords"><li class="animated fadeInDown post-tags-list-item"><a class="animated fadeInDown post-tags-list-link" href="/tags/java%E5%BC%80%E5%8F%91/" rel="tag">java开发</a></li></ul>
            
        </div>
    </div>
</div>

<div class="screen-gradient-after">
    <div class="screen-gradient-content">
        <div class="screen-gradient-content-inside">
            <div class="bold-underline-links screen-gradient-sponsor">
                <p>
                    <span class="animated fadeIn delay-1s"></span>
                </p>
            </div>
        </div>
    </div>
</div>

<div class="article">
    <div class='main'>
        <div class="content markdown animated fadeIn">
            <h3 id="一、准备工作"><a href="#一、准备工作" class="headerlink" title="一、准备工作"></a>一、准备工作</h3><p>1、android studio +自带模拟器（或者真机root）</p>
<p>2、frida（一个hook神器）</p>
<p>3、jeb（反编译利器）</p>
<p>4、java环境变量jdk的配置（谷歌）</p>
<p>5、gradle安装</p>
<p>6、ndk的配置与安装</p>
<a id="more"></a>

<h3 id="二、开始编程"><a href="#二、开始编程" class="headerlink" title="二、开始编程"></a>二、开始编程</h3><h4 id="1、程序基础"><a href="#1、程序基础" class="headerlink" title="1、程序基础"></a>1、程序基础</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);<span class="comment">//以什么样的界面显示出来的调用函数</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>所有的操作都是在oncreate中实现，这是定义一个大框架</p>
<h4 id="2、日志查看与调试"><a href="#2、日志查看与调试" class="headerlink" title="2、日志查看与调试"></a>2、日志查看与调试</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Log.e(<span class="string">"flag"</span>,flag);</span><br></pre></td></tr></table></figure>

<p>在日志logcat打印出标签为flag的信息，很好用的调试小技巧，不同字母表示不同的日志信息</p>
<h4 id="3、安卓元件的创建与控制"><a href="#3、安卓元件的创建与控制" class="headerlink" title="3、安卓元件的创建与控制"></a>3、安卓元件的创建与控制</h4><p>创建直接拖拽那个组件即可，想要控制时需要编程：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> TextView text = findViewById(R.id.textView);</span><br><span class="line">text.setText(“<span class="number">123</span>”);<span class="comment">//通过id去识别控制</span></span><br><span class="line">Button button2 = findViewById(R.id.button);</span><br><span class="line">button2.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//创建一个监听事件</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">        String flag = <span class="string">"138193670177974882514318186152745798548673891499230311600"</span>;</span><br><span class="line">        text.setText(flag);</span><br><span class="line">        Log.e(<span class="string">"flag"</span>,flag);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="4、弹窗的创建"><a href="#4、弹窗的创建" class="headerlink" title="4、弹窗的创建"></a>4、弹窗的创建</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AlertDialog.Builder alertDialog1 = <span class="keyword">new</span> AlertDialog.Builder(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">alertDialog1.setTitle(<span class="string">"恭喜！！"</span>);<span class="comment">//标题</span></span><br><span class="line">alertDialog1.setMessage(<span class="string">"登录成功"</span>);<span class="comment">//内容</span></span><br><span class="line">alertDialog1.setIcon(R.mipmap.ic_launcher);<span class="comment">//图标</span></span><br><span class="line">alertDialog1.create();</span><br><span class="line">alertDialog1.show();</span><br></pre></td></tr></table></figure>

<h4 id="5、页面之间的跳转设置，在java的包下面，新建hhh类，构建好代码，下面是在Mainactivity中的代码"><a href="#5、页面之间的跳转设置，在java的包下面，新建hhh类，构建好代码，下面是在Mainactivity中的代码" class="headerlink" title="5、页面之间的跳转设置，在java的包下面，新建hhh类，构建好代码，下面是在Mainactivity中的代码"></a>5、页面之间的跳转设置，在java的包下面，新建hhh类，构建好代码，下面是在Mainactivity中的代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Intent h = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>,hhh<span class="class">.<span class="keyword">class</span>)</span>;<span class="comment">//当前界面指针+要跳转的类</span></span><br><span class="line">h.putExtra(<span class="string">"name"</span>,b);<span class="comment">//将数据通过标签映射进行存储</span></span><br><span class="line">startActivity(h);<span class="comment">//开始跳转活动</span></span><br></pre></td></tr></table></figure>

<p>下面是hhh中的代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = getIntent();<span class="comment">//连接</span></span><br><span class="line">String n = intent.getStringExtra(<span class="string">"name"</span>);<span class="comment">//获取标签中的值</span></span><br></pre></td></tr></table></figure>

<p>最后要在manifests的application中声明下activity即可：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;manifest xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    package=<span class="string">"com.example.love"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;application</span><br><span class="line">        android:allowBackup=<span class="string">"true"</span></span><br><span class="line">        android:icon=<span class="string">"@mipmap/ic_launcher"</span></span><br><span class="line">        android:label=<span class="string">"@string/app_name"</span></span><br><span class="line">        android:roundIcon=<span class="string">"@mipmap/ic_launcher_round"</span></span><br><span class="line">        android:supportsRtl=<span class="string">"true"</span></span><br><span class="line">        android:theme=<span class="string">"@style/AppTheme"</span>&gt;</span><br><span class="line">        &lt;activity android:name=<span class="string">".MainActivity"</span>&gt;</span><br><span class="line">            &lt;intent-filter&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">"android.intent.action.MAIN"</span> /&gt;</span><br><span class="line"></span><br><span class="line">                &lt;category android:name=<span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span><br><span class="line">            &lt;/intent-filter&gt;</span><br><span class="line">        &lt;/activity&gt;</span><br><span class="line">        &lt;activity      </span><br><span class="line">            android:name=<span class="string">".hhh"</span> &gt;</span><br><span class="line">        &lt;/activity&gt;</span><br><span class="line">    &lt;/application&gt;</span><br><span class="line"></span><br><span class="line">&lt;/manifest&gt;</span><br></pre></td></tr></table></figure>

<h4 id="6、-so库文件的书写"><a href="#6、-so库文件的书写" class="headerlink" title="6、.so库文件的书写"></a>6、.so库文件的书写</h4><h3 id="下载ndk并且配置环境变量"><a href="#下载ndk并且配置环境变量" class="headerlink" title="下载ndk并且配置环境变量"></a>下载ndk并且配置环境变量</h3><p>直接在android studio中安装ndk，然后确定ndk的安装路径后，配置环境变量：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bash_profile</span><br><span class="line">export ANDROID_HOME=~/Library/Android/sdk</span><br><span class="line">export PATH=$&#123;PATH&#125;:$&#123;ANDROID_HOME&#125;/ndk/<span class="number">21.0</span><span class="number">.6113669</span></span><br><span class="line">source .bash_profile</span><br></pre></td></tr></table></figure>

<p>检查时就输入ndk-build有回显即表示安装成功。</p>
<p>比如在Mainactivity中定义一个方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">native</span> String <span class="title">getname</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>

<p>native方法只能通过.so库来调用，切换到Terminal，进入到该工程的 <strong>java</strong> 目录下（如下图所示），然后输入</p>
<p>javah -jni 包名.类名（如下图所示）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v1ct0r<span class="meta">@victordeMacBook</span>-Pro java % javah -jni com.example.love.MainActivity <span class="comment">//只是用来参考的</span></span><br></pre></td></tr></table></figure>

<p>生成.h文件，参考作用而已。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* DO NOT EDIT THIS FILE - it is machine generated */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;jni.h&gt;</span></span></span><br><span class="line"><span class="comment">/* Header for class com_example_love_MainActivity */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _Included_com_example_love_MainActivity</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _Included_com_example_love_MainActivity</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">"C"</span> &#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Class:     com_example_love_MainActivity</span></span><br><span class="line"><span class="comment"> * Method:    getname</span></span><br><span class="line"><span class="comment"> * Signature: ()Ljava/lang/String;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">JNIEXPORT jstring JNICALL Java_com_example_love_MainActivity_getname</span><br><span class="line">  (JNIEnv *, jobject);<span class="comment">//关键参考</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<h3 id="编写-c文件"><a href="#编写-c文件" class="headerlink" title="编写.c文件"></a>编写.c文件</h3><p>这时我们切换到Project，然后在app目录下新建jni文件夹，并在里面建立一个demo.c的c文件（如下图所示）。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;jni.h&gt;</span></span></span><br><span class="line"><span class="function">jstring <span class="title">Java_com_example_love_MainActivity_getname</span><span class="params">(JNIEnv *env, jobject thiz)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">"I`m Str !"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"><span class="function">jstring <span class="title">Java_com_example_love_hhh_getpwd</span><span class="params">(JNIEnv *env, jobject thiz)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">"12345678"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>知道一次以后都知道库函数怎么写了，要让哪个java类使用就要把类名写上，如上；</p>
<p>书写Android.mk文件，固定格式的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">LOCAL_PATH := $(call my-dir)</span><br><span class="line"></span><br><span class="line">include $(CLEAR_VARS)</span><br><span class="line"></span><br><span class="line">LOCAL_MODULE        := demo         <span class="comment">//要生成的so库的名称，但实际为libdemo.so</span></span><br><span class="line">LOCAL_SRC_FILES     := demo.c       <span class="comment">//要使用的文件，刚才编写的demo.c文件</span></span><br><span class="line"></span><br><span class="line">include $(BUILD_SHARED_LIBRARY)</span><br></pre></td></tr></table></figure>

<h3 id="生成so文件"><a href="#生成so文件" class="headerlink" title="生成so文件"></a>生成so文件</h3><p>在控制台中，进入到工程的app目录下，然后输入ndk-build（如下所示），不出问题即可编译成功。</p>
<p>编译完成后刷新工程，可以看到在app目录下生成的libs和obj文件夹，其中libs是有用的，obj文件夹无用可以删除。libs中的可以看到生成的libdemo.so文件。</p>
<h3 id="两个必要设置"><a href="#两个必要设置" class="headerlink" title="两个必要设置"></a>两个必要设置</h3><p>a）、在<strong>local.properties</strong>中设置NDK路径，我的NDK示例如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sdk.dir=/Users/v1ct0r/Library/Android/sdk</span><br><span class="line">ndk.dir=/Users/v1ct0r/Library/Android/sdk/ndk/<span class="number">21.0</span><span class="number">.6113669</span></span><br></pre></td></tr></table></figure>

<p>b）、在app的build.gradle的android节点下设置：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sourceSets</span><br><span class="line">&#123;</span><br><span class="line">main&#123;</span><br><span class="line">jniLibs.srcDirs = [<span class="string">'libs'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这两处必要的地方该修改完毕后就可以开心的调用我们生成的so文件了。</p>
<h3 id="开始调用"><a href="#开始调用" class="headerlink" title="开始调用"></a>开始调用</h3><p>在oncreate后面加入系统加载调用，然后可以直接在oncreate中调用我们的native方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.love;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AlertDialog;</span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.DialogInterface;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        <span class="keyword">final</span> TextView name = findViewById(R.id.editText2);</span><br><span class="line">        <span class="keyword">final</span> TextView pwd = findViewById(R.id.editText);</span><br><span class="line">        name.setText(getname());<span class="comment">//native函数调用</span></span><br><span class="line">        Button login = findViewById(R.id.button3);</span><br><span class="line">        Button register = findViewById(R.id.button);</span><br><span class="line">        register.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                MainActivity.<span class="keyword">this</span>.finish();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        login.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">                String a = String.valueOf(name.getText());</span><br><span class="line">                <span class="keyword">final</span> String b = String.valueOf(pwd.getText());</span><br><span class="line">                <span class="keyword">if</span>(a.equals(<span class="string">"yee"</span>)&amp;&amp;b.equals(<span class="string">"iloveking"</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    AlertDialog.Builder alertDialog1 = <span class="keyword">new</span> AlertDialog.Builder(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">                    alertDialog1.setTitle(<span class="string">"Congratulation！！"</span>);<span class="comment">//标题</span></span><br><span class="line">                    alertDialog1.setMessage(<span class="string">"You pwn it!"</span>);<span class="comment">//内容</span></span><br><span class="line">                    alertDialog1.setIcon(R.drawable.a);<span class="comment">//图标</span></span><br><span class="line">                    alertDialog1.setNegativeButton(<span class="string">"No"</span>, <span class="keyword">null</span>);</span><br><span class="line">                    alertDialog1.setPositiveButton(<span class="string">"Yes"</span>, <span class="keyword">new</span> DialogInterface.OnClickListener() &#123;</span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(DialogInterface dialog, <span class="keyword">int</span> which)</span> </span>&#123;</span><br><span class="line"><span class="comment">//                 退出当前应用</span></span><br><span class="line">                    Intent h = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>,hhh<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">                    h.putExtra(<span class="string">"name"</span>,b);</span><br><span class="line">                    startActivity(h);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">                    alertDialog1.create();</span><br><span class="line">                    alertDialog1.show();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    AlertDialog.Builder alertDialog1 = <span class="keyword">new</span> AlertDialog.Builder(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">                    alertDialog1.setTitle(<span class="string">"Sorry！！"</span>);<span class="comment">//标题</span></span><br><span class="line">                    alertDialog1.setMessage(<span class="string">"账号或者密码错误！"</span>);<span class="comment">//内容</span></span><br><span class="line">                    alertDialog1.setIcon(R.mipmap.ic_launcher);<span class="comment">//图标</span></span><br><span class="line">                    alertDialog1.create();</span><br><span class="line">                    alertDialog1.show();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> String <span class="title">getname</span><span class="params">()</span></span>;<span class="comment">//定义我们的方法</span></span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.loadLibrary(<span class="string">"demo"</span>);<span class="comment">//static中的方法会优先执行，加载我们的.so库</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>参考链接：</p>
<p><a href="https://blog.csdn.net/leilifengxingmw/article/details/71598687" target="_blank" rel="noopener">https://blog.csdn.net/leilifengxingmw/article/details/71598687</a></p>
<p>这里关于库文件的书写就涉及到我们的ndk开发了，这里就不做深入研究了，具体可以看我自己写的代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#include &lt;jni.h&gt;</span><br><span class="line"><span class="function">jstring <span class="title">Java_com_example_love_MainActivity_getname</span><span class="params">(JNIEnv *env, jobject thiz)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">"I`m Str !"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="function">jstring <span class="title">Java_com_example_love_hhh_getpwd</span><span class="params">(JNIEnv *env, jobject thiz)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">"12345678"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">jboolean <span class="title">Java_com_example_love_MainActivity_kkk</span><span class="params">(JNIEnv *env, jobject thiz, jstring s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *c_str = NULL;</span><br><span class="line">	c_str = (*env)-&gt;GetStringUTFChars(env, s, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">int</span> len = (*env)-&gt;GetStringUTFLength(env, s);</span><br><span class="line">    <span class="keyword">char</span> b[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">char</span> c[<span class="number">100</span>] = <span class="string">"kmomkuw"</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">         b[i] = ((c_str[i] + <span class="number">10</span>)^i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> m = strcmp(b,c);</span><br><span class="line">    <span class="keyword">if</span>(!m)</span><br><span class="line">    &#123;</span><br><span class="line">        printf(<span class="string">"Good!"</span>);</span><br><span class="line">        (*env)-&gt;ReleaseStringUTFChars(env, s, c_str);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">         printf(<span class="string">"Wrong!"</span>);</span><br><span class="line">         (*env)-&gt;ReleaseStringUTFChars(env, s, c_str);</span><br><span class="line">         <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这三个函数都是我自己定义的，可以根据需要自己去书写，达到代码保护的作用。</p>
<h4 id="7、fragement的使用"><a href="#7、fragement的使用" class="headerlink" title="7、fragement的使用"></a>7、fragement的使用</h4><p>fragement是指片段，可以看成一个子活动，然后内容是可以替换的，有自己的生命周期其实，一般来说有add、remove、replace等操作，这里熟悉下常见的使用方法。</p>
<h4 id="首先在libcs中导入库：android-support-v4-jar"><a href="#首先在libcs中导入库：android-support-v4-jar" class="headerlink" title="首先在libcs中导入库：android-support-v4.jar"></a>首先在libcs中导入库：android-support-v4.jar</h4><p>这里面有很多封装函数，比如管理员函数等。</p>
<h4 id="在java文件中的定义，新建一个fragment"><a href="#在java文件中的定义，新建一个fragment" class="headerlink" title="在java文件中的定义，新建一个fragment"></a>在java文件中的定义，新建一个fragment</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.love;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.lifecycle.ViewModelProviders;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.annotation.NonNull;</span><br><span class="line"><span class="keyword">import</span> androidx.annotation.Nullable;</span><br><span class="line"><span class="keyword">import</span> androidx.fragment.app.Fragment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">chatFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> chatFragment <span class="title">newInstance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> chatFragment();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">                             @Nullable Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> inflater.inflate(R.layout.chat_fragment, container, <span class="keyword">false</span>);<span class="comment">//fragement界面的回显（当前的fragment，container，false）</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="然后在res中的layout文件中自动生成"><a href="#然后在res中的layout文件中自动生成" class="headerlink" title="然后在res中的layout文件中自动生成"></a>然后在res中的layout文件中自动生成</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:id=<span class="string">"@+id/frameLayout"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    tools:context=<span class="string">".chatFragment"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=<span class="string">"@+id/textView7"</span></span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:text=<span class="string">"聊天界面"</span></span><br><span class="line">        tools:ignore=<span class="string">"MissingConstraints"</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br></pre></td></tr></table></figure>

<p>可以在这里设置自己想要的一切布局，textview、button，或者嵌入图片，相当于一个子页面了。然后我们可以设置3个fragment，道理是一样的，接着需要一个管理员去管理这些fragment</p>
<h4 id="管理员界面的生成，一个子活动activity"><a href="#管理员界面的生成，一个子活动activity" class="headerlink" title="管理员界面的生成，一个子活动activity"></a>管理员界面的生成，一个子活动activity</h4><p>这里的功能主要是接收点击响应，然后去执行响应的fragemnt跳转，这里使用的是replace进行跳转</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.love;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> androidx.fragment.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> androidx.fragment.app.FragmentManager;</span><br><span class="line"><span class="keyword">import</span> androidx.fragment.app.FragmentTransaction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.annotation.SuppressLint;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.ImageView;</span><br><span class="line"><span class="keyword">import</span> android.widget.LinearLayout;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">game1</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> FragmentManager fragmentManager;</span><br><span class="line">    <span class="keyword">private</span> FragmentTransaction transaction;</span><br><span class="line">    <span class="keyword">private</span> ImageView image1;</span><br><span class="line">    <span class="keyword">private</span> ImageView image2;</span><br><span class="line">    <span class="keyword">private</span> ImageView image3;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressLint</span>(<span class="string">"ResourceType"</span>)</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.game1);</span><br><span class="line">        <span class="keyword">this</span>.fragmentManager = <span class="keyword">this</span>.getSupportFragmentManager();<span class="comment">//定义管理员</span></span><br><span class="line">        <span class="keyword">this</span>.transaction = <span class="keyword">this</span>.fragmentManager.beginTransaction();<span class="comment">//获取管理权限</span></span><br><span class="line">        Fragment blank = <span class="keyword">new</span> BlankFragment();</span><br><span class="line">        <span class="keyword">this</span>.transaction.replace(R.id.abc, blank);<span class="comment">//定义想要执行的功能，有add、remove、replace等</span></span><br><span class="line">        <span class="keyword">this</span>.transaction.commit();<span class="comment">//执行定义的功能</span></span><br><span class="line">        <span class="keyword">this</span>.image1 = <span class="keyword">this</span>.findViewById(R.id.imageView1);</span><br><span class="line">        <span class="keyword">this</span>.image2 = <span class="keyword">this</span>.findViewById(R.id.imageView2);</span><br><span class="line">        <span class="keyword">this</span>.image3 = <span class="keyword">this</span>.findViewById(R.id.imageView3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressLint</span>(<span class="string">"ResourceType"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clickTitle</span><span class="params">(View target)</span> </span>&#123;</span><br><span class="line">        LinearLayout layout = (LinearLayout)target;</span><br><span class="line">        <span class="keyword">if</span> (layout == (LinearLayout)<span class="keyword">this</span>.findViewById(R.id.t1)) &#123;</span><br><span class="line">            <span class="keyword">this</span>.image1.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.execisesele));</span><br><span class="line">            <span class="keyword">this</span>.image2.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.course));</span><br><span class="line">            <span class="keyword">this</span>.image3.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.account));</span><br><span class="line">            <span class="keyword">this</span>.transaction = <span class="keyword">this</span>.fragmentManager.beginTransaction();<span class="comment">//每一次都需要获取下权限</span></span><br><span class="line">            Fragment blankFragment = <span class="keyword">new</span> BlankFragment();</span><br><span class="line">            <span class="keyword">this</span>.transaction.replace(R.id.abc, blankFragment);</span><br><span class="line">            <span class="keyword">this</span>.transaction.commit();</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">        <span class="keyword">if</span> (layout == (LinearLayout)<span class="keyword">this</span>.findViewById(R.id.t2)) &#123;</span><br><span class="line">            <span class="keyword">this</span>.transaction = <span class="keyword">this</span>.fragmentManager.beginTransaction();</span><br><span class="line">            Fragment testFragment = <span class="keyword">new</span> TestFragment();</span><br><span class="line">            <span class="keyword">this</span>.transaction.replace(R.id.abc, testFragment);</span><br><span class="line">            <span class="keyword">this</span>.transaction.commit();</span><br><span class="line">            <span class="keyword">this</span>.image1.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.execise));</span><br><span class="line">            <span class="keyword">this</span>.image2.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.coursesele));</span><br><span class="line">            <span class="keyword">this</span>.image3.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.account));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (layout == (LinearLayout)<span class="keyword">this</span>.findViewById(R.id.t3)) &#123;</span><br><span class="line">            <span class="keyword">this</span>.transaction = <span class="keyword">this</span>.fragmentManager.beginTransaction();</span><br><span class="line">            Fragment chatFragment = <span class="keyword">new</span> chatFragment();</span><br><span class="line">            <span class="keyword">this</span>.transaction.replace(R.id.abc, chatFragment);</span><br><span class="line">            <span class="keyword">this</span>.transaction.commit();</span><br><span class="line">            <span class="keyword">this</span>.image1.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.execise));</span><br><span class="line">            <span class="keyword">this</span>.image2.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.course));</span><br><span class="line">            <span class="keyword">this</span>.image3.setImageDrawable(<span class="keyword">this</span>.getResources().getDrawable(R.mipmap.accountsele));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="同时管理员的xml文件如下："><a href="#同时管理员的xml文件如下：" class="headerlink" title="同时管理员的xml文件如下："></a>同时管理员的xml文件如下：</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:id=<span class="string">"@+id/LinearLayout1"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span></span><br><span class="line">    android:paddingBottom=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    android:paddingLeft=<span class="string">"@dimen/activity_horizontal_margin"</span></span><br><span class="line">    android:paddingRight=<span class="string">"@dimen/activity_horizontal_margin"</span></span><br><span class="line">    android:paddingTop=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    tools:context=<span class="string">".game1"</span> &gt;</span><br><span class="line"></span><br><span class="line">    &lt;FrameLayout</span><br><span class="line">        android:id=<span class="string">"@+id/abc"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"0dp"</span></span><br><span class="line">        android:layout_weight=<span class="string">"1"</span> &gt;</span><br><span class="line"></span><br><span class="line">    &lt;/FrameLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:gravity=<span class="string">"center_horizontal"</span> &gt;</span><br><span class="line"></span><br><span class="line">        &lt;LinearLayout</span><br><span class="line">            android:id=<span class="string">"@+id/t1"</span></span><br><span class="line">            android:layout_width=<span class="string">"0dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">            android:layout_weight=<span class="string">"1"</span></span><br><span class="line">            android:gravity=<span class="string">"center_vertical"</span></span><br><span class="line">            android:onClick=<span class="string">"clickTitle"</span></span><br><span class="line">            android:orientation=<span class="string">"vertical"</span></span><br><span class="line">            tools:ignore=<span class="string">"OnClick"</span>&gt;</span><br><span class="line"></span><br><span class="line">            &lt;ImageView</span><br><span class="line">                android:id=<span class="string">"@+id/imageView1"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:src=<span class="string">"@mipmap/course"</span> /&gt;</span><br><span class="line"></span><br><span class="line">            &lt;TextView</span><br><span class="line">                android:id=<span class="string">"@+id/textView1"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:text=<span class="string">"教程"</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">        &lt;LinearLayout</span><br><span class="line">            android:id=<span class="string">"@+id/t2"</span></span><br><span class="line">            android:layout_width=<span class="string">"0dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_weight=<span class="string">"1"</span></span><br><span class="line">            android:onClick=<span class="string">"clickTitle"</span></span><br><span class="line">            android:orientation=<span class="string">"vertical"</span></span><br><span class="line">            tools:ignore=<span class="string">"OnClick"</span>&gt;</span><br><span class="line"></span><br><span class="line">            &lt;ImageView</span><br><span class="line">                android:id=<span class="string">"@+id/imageView2"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:src=<span class="string">"@mipmap/execise"</span> /&gt;</span><br><span class="line"></span><br><span class="line">            &lt;TextView</span><br><span class="line">                android:id=<span class="string">"@+id/textView2"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:text=<span class="string">"练习"</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">        &lt;LinearLayout</span><br><span class="line">            android:id=<span class="string">"@+id/t3"</span></span><br><span class="line">            android:layout_width=<span class="string">"0dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_weight=<span class="string">"1"</span></span><br><span class="line">            android:onClick=<span class="string">"clickTitle"</span></span><br><span class="line">            android:orientation=<span class="string">"vertical"</span></span><br><span class="line">            tools:ignore=<span class="string">"OnClick"</span>&gt;</span><br><span class="line"></span><br><span class="line">            &lt;ImageView</span><br><span class="line">                android:id=<span class="string">"@+id/imageView3"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:src=<span class="string">"@mipmap/talk"</span> /&gt;</span><br><span class="line"></span><br><span class="line">            &lt;TextView</span><br><span class="line">                android:id=<span class="string">"@+id/textView3"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:text=<span class="string">"对话"</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">        &lt;LinearLayout</span><br><span class="line">            android:id=<span class="string">"@+id/t4"</span></span><br><span class="line">            android:layout_width=<span class="string">"0dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_weight=<span class="string">"1"</span></span><br><span class="line">            android:onClick=<span class="string">"clickTitle"</span></span><br><span class="line">            android:orientation=<span class="string">"vertical"</span></span><br><span class="line">            tools:ignore=<span class="string">"OnClick"</span>&gt;</span><br><span class="line"></span><br><span class="line">            &lt;ImageView</span><br><span class="line">                android:id=<span class="string">"@+id/imageView4"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:src=<span class="string">"@mipmap/community"</span> /&gt;</span><br><span class="line"></span><br><span class="line">            &lt;TextView</span><br><span class="line">                android:id=<span class="string">"@+id/textView4"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:text=<span class="string">"社区"</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">        &lt;LinearLayout</span><br><span class="line">            android:id=<span class="string">"@+id/t5"</span></span><br><span class="line">            android:layout_width=<span class="string">"0dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">            android:layout_weight=<span class="string">"1"</span></span><br><span class="line">            android:orientation=<span class="string">"vertical"</span> &gt;</span><br><span class="line"></span><br><span class="line">            &lt;ImageView</span><br><span class="line">                android:id=<span class="string">"@+id/imageView5"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:src=<span class="string">"@mipmap/account"</span> /&gt;</span><br><span class="line"></span><br><span class="line">            &lt;TextView</span><br><span class="line">                android:id=<span class="string">"@+id/textView5"</span></span><br><span class="line">                android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">                android:layout_gravity=<span class="string">"center_horizontal"</span></span><br><span class="line">                android:text=<span class="string">"账号"</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/LinearLayout&gt;</span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<h4 id="这里有一个坑点可以自己记一下，就是mipmap中的图片约定是小图，就是那种图标型号的图，但是drawable里面的是大图，二者对图片的解析不同，所以请严格按照自己需求去使用大图和小图，同时大图小图放置的位置也要相应！还有只认png！"><a href="#这里有一个坑点可以自己记一下，就是mipmap中的图片约定是小图，就是那种图标型号的图，但是drawable里面的是大图，二者对图片的解析不同，所以请严格按照自己需求去使用大图和小图，同时大图小图放置的位置也要相应！还有只认png！" class="headerlink" title="这里有一个坑点可以自己记一下，就是mipmap中的图片约定是小图，就是那种图标型号的图，但是drawable里面的是大图，二者对图片的解析不同，所以请严格按照自己需求去使用大图和小图，同时大图小图放置的位置也要相应！还有只认png！"></a>这里有一个坑点可以自己记一下，就是mipmap中的图片约定是小图，就是那种图标型号的图，但是drawable里面的是大图，二者对图片的解析不同，所以请严格按照自己需求去使用大图和小图，同时大图小图放置的位置也要相应！还有只认png！</h4><h4 id="8、gridview的使用"><a href="#8、gridview的使用" class="headerlink" title="8、gridview的使用"></a>8、gridview的使用</h4><p>叫做网格布局，这是比较规矩的使用，方法如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.love;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.AdapterView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.GridView;</span><br><span class="line"><span class="keyword">import</span> android.widget.SimpleAdapter;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">hhh</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> GridView gridView;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Map&lt;String, Object&gt;&gt; data_list;</span><br><span class="line">    <span class="keyword">private</span> SimpleAdapter adapter;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] icons = &#123;R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher,R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher, R.mipmap.ic_launcher , R.mipmap.ic_launcher&#125;;</span><br><span class="line">    <span class="keyword">private</span> String[] text = &#123;<span class="string">"王者荣耀"</span>, <span class="string">"吃鸡"</span>, <span class="string">"忍者"</span>, <span class="string">"火柴人"</span>, <span class="string">"方块"</span>, <span class="string">"炮弹战车"</span>, <span class="string">"米莱迪"</span>, <span class="string">"荣耀"</span>, <span class="string">"贪吃蛇"</span>, <span class="string">"弹弹堂"</span>, <span class="string">"皮卡丘大冒险"</span>, <span class="string">"神罗天征"</span>, <span class="string">"地包天行"</span>, <span class="string">"佐助"</span>, <span class="string">"漩涡鸣人"</span>,<span class="string">"人工智能"</span>&#125;;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.hhh);</span><br><span class="line">        Intent intent = getIntent();</span><br><span class="line">        TextView text = findViewById(R.id.textView6);</span><br><span class="line">        String n = intent.getStringExtra(<span class="string">"name"</span>);</span><br><span class="line">        text.setText(n);</span><br><span class="line">        gridView = (GridView) findViewById(R.id.king);<span class="comment">//找到定义的网格布局</span></span><br><span class="line">        data_list = <span class="keyword">new</span> ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">        getData();<span class="comment">//数据初始化</span></span><br><span class="line">        <span class="comment">//加载适配器data_list</span></span><br><span class="line">        String[] form = &#123;<span class="string">"image"</span>, <span class="string">"text"</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] to = &#123;R.id.image, R.id.text&#125;;</span><br><span class="line">        adapter = <span class="keyword">new</span> SimpleAdapter(<span class="keyword">this</span>, data_list, R.layout.item, form, to);<span class="comment">//适配器创建</span></span><br><span class="line">        gridView.setAdapter(adapter);<span class="comment">//适配器的执行</span></span><br><span class="line">        <span class="comment">//监听item每一项</span></span><br><span class="line">        gridView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; adapterView, View view, <span class="keyword">int</span> i, <span class="keyword">long</span> l)</span> </span>&#123;</span><br><span class="line">                Toast.makeText(hhh.<span class="keyword">this</span>, <span class="string">"你点击了第"</span> + i, Toast.LENGTH_SHORT).show();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//准备数据源，一个封装的过程</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Map&lt;String, Object&gt;&gt; getData() &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; icons.length; i++) &#123;</span><br><span class="line">            Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">            map.put(<span class="string">"image"</span>, icons[i]);</span><br><span class="line">            map.put(<span class="string">"text"</span>, text[i]);</span><br><span class="line">            data_list.add(map);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> data_list;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> String <span class="title">getpwd</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.loadLibrary(<span class="string">"demo"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="xml文件如下："><a href="#xml文件如下：" class="headerlink" title="xml文件如下："></a>xml文件如下：</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:app=<span class="string">"http://schemas.android.com/apk/res-auto"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span> android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;androidx.constraintlayout.widget.ConstraintLayout</span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span>&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:id=<span class="string">"@+id/textView6"</span></span><br><span class="line">            android:layout_width=<span class="string">"317dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"86dp"</span></span><br><span class="line">            android:layout_marginStart=<span class="string">"47dp"</span></span><br><span class="line">            android:layout_marginLeft=<span class="string">"47dp"</span></span><br><span class="line">            android:layout_marginEnd=<span class="string">"31dp"</span></span><br><span class="line">            android:layout_marginRight=<span class="string">"31dp"</span></span><br><span class="line">            android:layout_marginBottom=<span class="string">"272dp"</span></span><br><span class="line">            android:gravity=<span class="string">"center"</span></span><br><span class="line">            android:text=<span class="string">"TextView"</span></span><br><span class="line">            android:textSize=<span class="string">"24sp"</span></span><br><span class="line">            app:layout_constraintBottom_toBottomOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintHorizontal_bias=<span class="string">"0.0"</span></span><br><span class="line">            app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintTop_toTopOf=<span class="string">"parent"</span></span><br><span class="line">            app:layout_constraintVertical_bias=<span class="string">"0.042"</span> /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;GridView</span><br><span class="line">            android:id=<span class="string">"@+id/king"</span></span><br><span class="line">            android:layout_width=<span class="string">"411dp"</span></span><br><span class="line">            android:layout_height=<span class="string">"546dp"</span></span><br><span class="line">            android:columnWidth=<span class="string">"90dp"</span></span><br><span class="line">            android:horizontalSpacing=<span class="string">"6dp"</span></span><br><span class="line">            android:numColumns=<span class="string">"auto_fit"</span></span><br><span class="line">            android:stretchMode=<span class="string">"columnWidth"</span></span><br><span class="line">            android:verticalSpacing=<span class="string">"6dp"</span></span><br><span class="line">            tools:layout_editor_absoluteX=<span class="string">"0dp"</span></span><br><span class="line">            tools:layout_editor_absoluteY=<span class="string">"185dp"</span></span><br><span class="line">            tools:ignore="MissingConstraints"&gt;&lt;/GridView&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p>只要部署了gridview即可，因为数据的填入是个动态的过程来的，但是我喜欢用相对布局更多hhhhh。</p>
<h4 id="9、连接数据库"><a href="#9、连接数据库" class="headerlink" title="9、连接数据库"></a>9、连接数据库</h4><h4 id="准备工作：mysql数据库、mysql-workbench管理者、mysql-connector-java-5-1-30-bin-jar驱动"><a href="#准备工作：mysql数据库、mysql-workbench管理者、mysql-connector-java-5-1-30-bin-jar驱动" class="headerlink" title="准备工作：mysql数据库、mysql_workbench管理者、mysql-connector-java-5.1.30-bin.jar驱动"></a>准备工作：mysql数据库、mysql_workbench管理者、mysql-connector-java-5.1.30-bin.jar驱动</h4><p>首先下载mysql，记住是老版本的！5.1.30左右，新版本有坑，不兼容哎，难受</p>
<p><img src="/blog_img/image-20200512120035542.png" alt="image-20200512120035542"></p>
<p>然后下载个mysql的manager，我用的是mac下的mysql_workbench，主要是用户界面实现操作数据库。</p>
<p>接着在libcs中导入mysql的驱动即可</p>
<p>使用方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.love;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AlertDialog;</span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.content.DialogInterface;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.os.Looper;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.Button;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.security.MessageDigest;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getMD5</span><span class="params">(String str)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            MessageDigest md = MessageDigest.getInstance(<span class="string">"MD5"</span>);</span><br><span class="line">            md.update(str.getBytes());</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> BigInteger(<span class="number">1</span>, md.digest()).toString(<span class="number">16</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"MD5加密出现错误"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">tan</span><span class="params">(String a,String gg,String ii)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (ii.equals(gg)) &#123;</span><br><span class="line">            Looper.prepare();</span><br><span class="line">            Log.e(<span class="string">"调试"</span>, <span class="string">"777"</span>);</span><br><span class="line">            AlertDialog.Builder alertDialog1 = <span class="keyword">new</span> AlertDialog.Builder(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            alertDialog1.setTitle(<span class="string">"提示:"</span>);<span class="comment">//标题</span></span><br><span class="line">            alertDialog1.setMessage(<span class="string">"登录成功!"</span>);<span class="comment">//内容</span></span><br><span class="line">            alertDialog1.setIcon(R.drawable.k8);<span class="comment">//图标</span></span><br><span class="line">            alertDialog1.create();</span><br><span class="line">            alertDialog1.show();</span><br><span class="line">            Intent k = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>, game1<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">            k.putExtra(<span class="string">"name"</span>, a);</span><br><span class="line">            startActivity(k);</span><br><span class="line">            Looper.loop();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Looper.prepare();</span><br><span class="line">            AlertDialog.Builder alertDialog1 = <span class="keyword">new</span> AlertDialog.Builder(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">            alertDialog1.setTitle(<span class="string">"提示:"</span>);<span class="comment">//标题</span></span><br><span class="line">            alertDialog1.setMessage(<span class="string">"账号或密码错误！"</span>);<span class="comment">//内容</span></span><br><span class="line">            alertDialog1.setIcon(R.drawable.k8);<span class="comment">//图标</span></span><br><span class="line">            alertDialog1.create();</span><br><span class="line">            alertDialog1.show();</span><br><span class="line">            Looper.loop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"><span class="comment">//      数据库连接操作</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">final</span> TextView name = findViewById(R.id.editText2);</span><br><span class="line">        <span class="keyword">final</span> TextView pwd = findViewById(R.id.editText);</span><br><span class="line">        Button login = findViewById(R.id.button3);</span><br><span class="line">        Button register = findViewById(R.id.button);</span><br><span class="line"></span><br><span class="line">        register.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line"><span class="comment">//                MainActivity.this.finish();</span></span><br><span class="line">                Intent a = <span class="keyword">new</span> Intent(MainActivity.<span class="keyword">this</span>,register<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">                startActivity(a);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        login.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">new</span> Thread() &#123;<span class="comment">//必须用线程的形式去跑，不然起不来，还可以节省空间和时间</span></span><br><span class="line">                    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//                            Looper.prepare();</span></span><br><span class="line">                            Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);<span class="comment">//动态加载类</span></span><br><span class="line">                            String url = <span class="string">"jdbc:mysql://192.168.43.166:3306/test"</span>;<span class="comment">//url定义，网址+端口+数据库名字</span></span><br><span class="line">                            Log.e(<span class="string">"1"</span>, <span class="string">"93994"</span>);</span><br><span class="line">                            Connection conn = DriverManager.getConnection(url, <span class="string">"root"</span>, <span class="string">"7758"</span>);<span class="comment">//输入连接的账号密码</span></span><br><span class="line">                            <span class="keyword">if</span> (conn != <span class="keyword">null</span>) &#123;</span><br><span class="line">                                Log.e(<span class="string">"调试"</span>, <span class="string">"连接成功"</span>);</span><br><span class="line">                                Statement stmt = conn.createStatement();<span class="comment">//创建一个执行sql语句的解析器</span></span><br><span class="line">                                String a = String.valueOf(name.getText());</span><br><span class="line">                                String sql = <span class="string">"select * from user where uname="</span> + <span class="string">"'"</span> + a + <span class="string">"'"</span>;</span><br><span class="line"><span class="comment">//                                String sql = "select * from user";</span></span><br><span class="line">                                ResultSet rs = stmt.executeQuery(sql); <span class="comment">//使用executeQury方法执行sql语句 返回ResultSet对象 即查询的结果</span></span><br><span class="line">                                <span class="keyword">if</span> (rs.next()) &#123;  <span class="comment">// 遍历结果集ResultSet</span></span><br><span class="line">                                    <span class="comment">//获取这条记录中每列数据,使用ResultSet接口的方法 getXX方法,参数建议写String列名</span></span><br><span class="line">                                    Log.e(<span class="string">"调试"</span>, <span class="string">"777"</span>);</span><br><span class="line">                                    String gg = rs.getString(<span class="string">"upwd"</span>);</span><br><span class="line">                                    System.out.println(<span class="string">"here---&gt;"</span> + gg);</span><br><span class="line">                                    String d = String.valueOf(pwd.getText());</span><br><span class="line">                                    String ii = getMD5(d);</span><br><span class="line">                                    tan(a,gg, ii);</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">else</span></span><br><span class="line">                                &#123;</span><br><span class="line">                                    Looper.prepare();</span><br><span class="line">                                    AlertDialog.Builder alertDialog1 = <span class="keyword">new</span> AlertDialog.Builder(MainActivity.<span class="keyword">this</span>);</span><br><span class="line">                                    alertDialog1.setTitle(<span class="string">"提示:"</span>);<span class="comment">//标题</span></span><br><span class="line">                                    alertDialog1.setMessage(<span class="string">"该用户不存在!"</span>);<span class="comment">//内容</span></span><br><span class="line">                                    alertDialog1.setIcon(R.drawable.i1);<span class="comment">//图标</span></span><br><span class="line">                                    alertDialog1.create();</span><br><span class="line">                                    alertDialog1.show();</span><br><span class="line">                                    Looper.loop();</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;.start();</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> String <span class="title">getname</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">boolean</span> <span class="title">kkk</span><span class="params">(String a)</span></span>;</span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.loadLibrary(<span class="string">"demo"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>千万记得在androidmanifest.xml中加入这句允许远程连接：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;uses-permission android:name=<span class="string">"android.permission.INTERNET"</span> /&gt;</span><br></pre></td></tr></table></figure>

<h4 id="这里有个坑就是，非ui线程中的弹窗的使用，由于在非ui线程中，所以需要在弹窗的前后加-Looper-prepare-和Looper-loop-，如上的代码可见，相当于开辟一个资源给他用，不会被线程强行遏制住，如果不在非ui线程中，就不用这么操作；ui相关的操作需要在主线程调用，所以如果你是在ui线程中操作，需要转到主线程中，这里可以使用runOnUiThread，其实就是去ui线程更新，具体操作如下："><a href="#这里有个坑就是，非ui线程中的弹窗的使用，由于在非ui线程中，所以需要在弹窗的前后加-Looper-prepare-和Looper-loop-，如上的代码可见，相当于开辟一个资源给他用，不会被线程强行遏制住，如果不在非ui线程中，就不用这么操作；ui相关的操作需要在主线程调用，所以如果你是在ui线程中操作，需要转到主线程中，这里可以使用runOnUiThread，其实就是去ui线程更新，具体操作如下：" class="headerlink" title="***这里有个坑就是，非ui线程中的弹窗的使用，由于在非ui线程中，所以需要在弹窗的前后加 Looper.prepare()和Looper.loop()，如上的代码可见，相当于开辟一个资源给他用，不会被线程强行遏制住，如果不在非ui线程中，就不用这么操作；ui相关的操作需要在主线程调用，所以如果你是在ui线程中操作，需要转到主线程中，这里可以使用runOnUiThread，其实就是去ui线程更新，具体操作如下："></a>***这里有个坑就是，非ui线程中的弹窗的使用，由于在非ui线程中，所以需要在弹窗的前后加 Looper.prepare()和Looper.loop()，如上的代码可见，相当于开辟一个资源给他用，不会被线程强行遏制住，如果不在非ui线程中，就不用这么操作；ui相关的操作需要在主线程调用，所以如果你是在ui线程中操作，需要转到主线程中，这里可以使用runOnUiThread，其实就是去ui线程更新，具体操作如下：</h4><p>runOnUiThread() 相当于 是把 ui更新的任务 从 非ui线程 发送到了ui线程，ui线程的handler接受后去处理</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> TextView tv_dancishu = view.findViewById(R.id.tv_zhu_book);</span><br><span class="line">        <span class="keyword">new</span> Thread() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    String sql = <span class="string">"select BookName from DanCiShu where flag=1"</span>;</span><br><span class="line">                    ResultSet rs = SQL.search(sql);</span><br><span class="line">                    <span class="keyword">if</span> (rs.next()) &#123;</span><br><span class="line">                        <span class="keyword">final</span> String bn = rs.getString(<span class="string">"BookName"</span>);</span><br><span class="line">                        System.out.println(bn);</span><br><span class="line">                        getActivity().runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">                            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                                tv_dancishu.setText(bn);</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (SQLException ex) &#123;</span><br><span class="line">                    ex.printStackTrace();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">                    ex.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.start();</span><br></pre></td></tr></table></figure>



<h4 id="10、样式的使用"><a href="#10、样式的使用" class="headerlink" title="10、样式的使用"></a>10、样式的使用</h4><p>这个简单，就是加入插件的背景，使得插件变得更好看而已，这里在drawable中加入样式文件xml，可以自己定义形状，颜色，长宽比等属性，比如button的样式cc.xml</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span><br><span class="line">&lt;selector xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span><br><span class="line">    &lt;!--&lt;item android:state_pressed=<span class="string">"true"</span>&gt;--&gt;</span><br><span class="line">    &lt;!--&lt;shape android:shape=<span class="string">"rectangle"</span>&gt;--&gt;</span><br><span class="line">    &lt;!--&lt;stroke android:width=<span class="string">"1px"</span> android:color=<span class="string">"@color/color_light_grey"</span> /&gt;--&gt;</span><br><span class="line">    &lt;!--&lt;corners android:radius=<span class="string">"3dp"</span> /&gt;--&gt;</span><br><span class="line">    &lt;!--&lt;solid android:color=<span class="string">"@color/color_detach_line"</span> /&gt;--&gt;</span><br><span class="line">    &lt;!--&lt;/shape&gt;--&gt;</span><br><span class="line">    &lt;!--&lt;/item&gt;--&gt;</span><br><span class="line">    &lt;item&gt;</span><br><span class="line">        &lt;shape android:shape=<span class="string">"rectangle"</span>&gt;</span><br><span class="line">            &lt;stroke android:width=<span class="string">"1px"</span> android:color=<span class="string">"@color/black"</span> /&gt;</span><br><span class="line">            &lt;corners android:radius=<span class="string">"10dp"</span> /&gt;</span><br><span class="line">            &lt;solid android:color=<span class="string">"@color/white"</span> /&gt;</span><br><span class="line">        &lt;/shape&gt;</span><br><span class="line">    &lt;/item&gt;</span><br><span class="line">&lt;/selector&gt;</span><br></pre></td></tr></table></figure>

<p>样式的使用也很简单，直接在背景中添加想要的样式即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button</span><br><span class="line">    android:id=<span class="string">"@+id/button3"</span></span><br><span class="line">    android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">    android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">    android:text=<span class="string">"登陆"</span></span><br><span class="line">    android:textSize=<span class="string">"18sp"</span></span><br><span class="line">    android:background=<span class="string">"@drawable/cc"</span><span class="comment">//添加样式即可</span></span><br><span class="line">    app:layout_constraintBottom_toBottomOf=<span class="string">"parent"</span></span><br><span class="line">    app:layout_constraintEnd_toEndOf=<span class="string">"parent"</span></span><br><span class="line">    app:layout_constraintHorizontal_bias=<span class="string">"0.269"</span></span><br><span class="line">    app:layout_constraintStart_toStartOf=<span class="string">"parent"</span></span><br><span class="line">    app:layout_constraintTop_toTopOf=<span class="string">"parent"</span></span><br><span class="line">    app:layout_constraintVertical_bias=<span class="string">"0.717"</span> /&gt;</span><br></pre></td></tr></table></figure>

<h4 id="11、菜单的生成和使用"><a href="#11、菜单的生成和使用" class="headerlink" title="11、菜单的生成和使用"></a>11、菜单的生成和使用</h4><p>首先在res目录下创建menu，然后新建xml文件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@+id/menu_item1"</span> <span class="attr">android:title</span>=<span class="string">"Functions"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">menu</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@+id/menu_item1_item1"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:title</span>=<span class="string">"Map"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@+id/menu_item1_item2"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:title</span>=<span class="string">"Phone"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@+id/menu_item1_item3"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:title</span>=<span class="string">"Search"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@+id/menu_item2"</span> <span class="attr">android:title</span>=<span class="string">"Setting"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这里就是对于菜单的静态生成</p>
<p>然后在activity中加入我们需要定义的函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span> </span>&#123;</span><br><span class="line">       getMenuInflater().inflate(R.menu.game_menu, menu);<span class="comment">//获取到menu菜单</span></span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">super</span>.onCreateOptionsMenu(menu);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">switch</span> (item.getItemId()) &#123;<span class="comment">//菜单的选择，一个选择对应一个功能</span></span><br><span class="line">           <span class="keyword">case</span> R.id.menu_item2: <span class="comment">// TODO</span></span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">           <span class="keyword">case</span> R.id.menu_item1_item1: <span class="comment">// TODO</span></span><br><span class="line">               <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h4 id="12、网页请求与回显"><a href="#12、网页请求与回显" class="headerlink" title="12、网页请求与回显"></a>12、网页请求与回显</h4><p>1、环境配置：</p>
<p>首先将需要的xUtils-3.3.20.jar包和gson-2.2.2.jar包导入到libc目录下，然后选中右键add as library，就可以使用相应的函数功能了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    <span class="function">implementation <span class="title">fileTree</span><span class="params">(include: [<span class="string">'*.jar'</span>], dir: <span class="string">'libs'</span>)</span></span></span><br><span class="line"><span class="function">    implementation 'androidx.appcompat:appcompat:1.0.2'</span></span><br><span class="line"><span class="function">    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'</span></span><br><span class="line"><span class="function">    implementation 'androidx.legacy:legacy-support-v4:1.0.0'</span></span><br><span class="line"><span class="function">    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'</span></span><br><span class="line"><span class="function">    implementation 'com.google.android.material:material:1.1.0'</span></span><br><span class="line"><span class="function">    implementation 'androidx.recyclerview:recyclerview:1.0.0'</span></span><br><span class="line"><span class="function">    testImplementation 'junit:junit:4.12'</span></span><br><span class="line"><span class="function">    androidTestImplementation 'androidx.test.ext:junit:1.1.0'</span></span><br><span class="line"><span class="function">    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'</span></span><br><span class="line"><span class="function">    implementation <span class="title">files</span><span class="params">(<span class="string">'src/main/libcs/mysql-connector-java-5.1.30-bin.jar'</span>)</span></span></span><br><span class="line"><span class="function">    implementation <span class="title">files</span><span class="params">(<span class="string">'src/main/libcs/gson-2.2.2.jar'</span>)</span></span></span><br><span class="line"><span class="function">    implementation <span class="title">files</span><span class="params">(<span class="string">'src/main/libcs/xUtils-3.3.20.jar'</span>)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>

<p>接着在AndroidManifest.xml中设置权限，在application中加入name</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">package</span>=<span class="string">"com.example.love"</span>&gt;</span></span><br><span class="line">   //设置权限，让其能访问</span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.INTERNET"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">uses-permission</span> <span class="attr">android:name</span>=<span class="string">"android.permission.WRITE_EXTERNAL_STORAGE"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">application</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:name</span>=<span class="string">".MyApplication"</span>   //加自己定义的<span class="attr">myapplation</span>类的名字</span></span><br><span class="line"><span class="tag">        <span class="attr">android:allowBackup</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:icon</span>=<span class="string">"@drawable/k8"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">"@string/app_name"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:roundIcon</span>=<span class="string">"@drawable/k8"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:supportsRtl</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">".test"</span>&gt;</span><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:name</span>=<span class="string">".abc"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:label</span>=<span class="string">"@string/title_activity_abc"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme.NoActionBar"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">".register"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">".game1"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">".MainActivity"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">"android.intent.action.MAIN"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">".hhh"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2、创建一个MyApplation.java类，里面进行一个初始化操作</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.love;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Application;</span><br><span class="line"><span class="keyword">import</span> org.xutils.x;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> <span class="keyword">extends</span> <span class="title">Application</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate();</span><br><span class="line">        <span class="comment">//初始化XUtils</span></span><br><span class="line">        x.Ext.init(<span class="keyword">this</span>);</span><br><span class="line">        <span class="comment">//设置debug模式</span></span><br><span class="line">        x.Ext.setDebug(<span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3、创建想要的activity，在里面实现网页请求</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.love;</span><br><span class="line"><span class="keyword">import</span> org.xutils.x;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.xutils.http.RequestParams;</span><br><span class="line"><span class="keyword">import</span> org.xutils.view.annotation.ContentView;</span><br><span class="line"><span class="keyword">import</span> org.xutils.view.annotation.Event;</span><br><span class="line"><span class="keyword">import</span> org.xutils.view.annotation.ViewInject;</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.util.Log;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"><span class="keyword">import</span> android.widget.Toast;</span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> org.xutils.common.Callback;</span><br><span class="line"><span class="meta">@ContentView</span>(R.layout.test) <span class="comment">//当前窗口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">test</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ViewInject</span>(R.id.textView11)</span><br><span class="line">    TextView text; <span class="comment">//全局索引到textview11，方便使用</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        x.view().inject(<span class="keyword">this</span>);<span class="comment">//初始化完在这里插入</span></span><br><span class="line">        disp();<span class="comment">//调用函数</span></span><br><span class="line">    &#125;</span><br><span class="line">  	<span class="meta">@SuppressLint</span>(<span class="string">"WrongConstant"</span>)</span><br><span class="line">    <span class="meta">@Event</span>(value = R.id.textView11, type = View.OnClickListener<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">    <span class="title">private</span> <span class="title">void</span> <span class="title">btnClick</span>(<span class="title">View</span> <span class="title">view</span>) </span>&#123;</span><br><span class="line">        Toast.makeText(test.<span class="keyword">this</span>,<span class="string">"test"</span>, <span class="number">1</span>).show(); <span class="comment">//toast简易弹窗的使用</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">disp</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String url = <span class="string">"https://www.baidu.com/"</span>; <span class="comment">//请求的网站</span></span><br><span class="line">        RequestParams params = <span class="keyword">new</span> RequestParams(url);<span class="comment">//创建request</span></span><br><span class="line">        System.out.println(<span class="string">"233333333"</span>);</span><br><span class="line">        x.http().get(params, <span class="keyword">new</span> Callback.CommonCallback&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCancelled</span><span class="params">(CancelledException arg0)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"777777777"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable arg0, <span class="keyword">boolean</span> arg1)</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"8888888888"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFinished</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">"999999999"</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onSuccess</span><span class="params">(String arg0)</span> </span>&#123;</span><br><span class="line">                Log.e(<span class="string">"gson"</span>,arg0);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    System.out.println(<span class="string">"1111111111111"</span>);</span><br><span class="line">                    text.setText(arg0);<span class="comment">//回显数据填充</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    System.out.println(<span class="string">"2222222222222"</span>);</span><br><span class="line">                    <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="13、打包好项目，生成可安装使用的apk程序文件"><a href="#13、打包好项目，生成可安装使用的apk程序文件" class="headerlink" title="13、打包好项目，生成可安装使用的apk程序文件"></a>13、打包好项目，生成可安装使用的apk程序文件</h4><p>1、选择build中的generate signed apk</p>
<p>2、选择apk</p>
<p>3、选择一个key（已经存在的AI.jks）密码是123456</p>
<p><img src="/blog_img/image-20200708083842645.png" alt="image-20200708083842645"></p>
<p>4、选择发行版本并选择第一个jar签名即可</p>
<p><img src="/blog_img/image-20200708083925402.png" alt="image-20200708083925402"></p>
<p>5、然后可以在项目的release目录下找到这个打包签名好的apk文件</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls"
                data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
            <ul id="audio-list" style="display:none">
                
                
                <li title='0' data-url='/statics/chengdu.mp3'></li>
                
                    
            </ul>
            
            
            
    <div id='gitalk-container' class="comment link"
        data-ae='true'
        data-ci='ec894e2b66f752e8b7fb'
        data-cs='3ccc2e92bb350688fe2c2dc2930189b62622bfb1'
        data-r='blog-comments'
        data-o='TriDiamond'
        data-a='TriDiamond'
        data-d=''
    >Comments</div>


            
            
        </div>
        <div class="sidebar">
            <div class="box animated fadeInRight">
                <div class="subbox">
                    <img src="https://res.cloudinary.com/tridiamond/image/upload/v1573019751/TriDiamond_logo_ui_xeublz.jpg" height=300 width=300></img>
                    <p>V1ct0r</p>
                    <span>Where there is a will,there is a way！</span>
                    <dl>
                        <dd><a href="https://github.com/TriDiamond" target="_blank"><span
                                    class=" iconfont icon-github"></span></a></dd>
                        <dd><a href="https://twitter.com/TriDiamond6" target="_blank"><span
                                    class=" iconfont icon-twitter"></span></a></dd>
                        <dd><a href="https://stackoverflow.com/users/7602324/tridiamond?tab=profile" target="_blank"><span
                                    class=" iconfont icon-stack-overflow"></span></a></dd>
                    </dl>
                </div>
                <ul>
                    <li><a href="/">92 <p>Articles</p></a></li>
                    <li><a href="/categories">20 <p>Categories</p></a></li>
                    <li><a href="/tags">82 <p>Tags</p></a></li>
                </ul>
            </div>
            
            
            
            <div class="box sticky animated fadeInRight faster">
                <div id="toc" class="subbox">
                    <h4>Contents</h4>
                    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#一、准备工作"><span class="toc-number">1.</span> <span class="toc-text">一、准备工作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二、开始编程"><span class="toc-number">2.</span> <span class="toc-text">二、开始编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载ndk并且配置环境变量"><span class="toc-number">3.</span> <span class="toc-text">下载ndk并且配置环境变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#编写-c文件"><span class="toc-number">4.</span> <span class="toc-text">编写.c文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#生成so文件"><span class="toc-number">5.</span> <span class="toc-text">生成so文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#两个必要设置"><span class="toc-number">6.</span> <span class="toc-text">两个必要设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#开始调用"><span class="toc-number">7.</span> <span class="toc-text">开始调用</span></a></li></ol>
                </div>
            </div>
            
            
        </div>
    </div>
</div>

    </div>
</div>
    <div id="back-to-top" class="animated fadeIn faster">
        <div class="flow"></div>
        <span class="percentage animated fadeIn faster">0%</span>
        <span class="iconfont icon-top02 animated fadeIn faster"></span>
    </div>
</body>
<footer>
    <p class="copyright" id="copyright">
        &copy; 2021
        <span class="gradient-text">
            V1ct0r
        </span>.
        Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a>
        Theme
        <span class="gradient-text">
            <a href="https://github.com/TriDiamond/hexo-theme-obsidian" title="Obsidian" target="_blank" rel="noopener">Obsidian</a>
        </span>
        <small><a href="https://github.com/TriDiamond/hexo-theme-obsidian/blob/master/CHANGELOG.md" title="v1.4.3" target="_blank" rel="noopener">v1.4.3</a></small>
    </p>
</footer>

<script type="text/javascript" src="https://cdn.bootcss.com/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script>
  MathJax.Hub.Config({
    "HTML-CSS": {
      preferredFont: "TeX",
      availableFonts: ["STIX", "TeX"],
      linebreaks: {
        automatic: true
      },
      EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
      inlineMath: [
        ["$", "$"],
        ["\\(", "\\)"]
      ],
      processEscapes: true,
      ignoreClass: "tex2jax_ignore|dno",
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      noUndefined: {
        attributes: {
          mathcolor: "red",
          mathbackground: "#FFEEEE",
          mathsize: "90%"
        }
      },
      Macros: {
        href: "{}"
      }
    },
    messageStyle: "none"
  });
</script>
<script>
  function initialMathJax() {
    MathJax.Hub.Queue(function () {
      var all = MathJax.Hub.getAllJax(),
        i;
      // console.log(all);
      for (i = 0; i < all.length; i += 1) {
        console.log(all[i].SourceElement().parentNode)
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  }

  function reprocessMathJax() {
    if (typeof MathJax !== 'undefined') {
      MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
    }
  }
</script>



    
<link rel="stylesheet" href="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css">

    
<script src="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/obsidian.js"></script>
<script src="/js/jquery.truncate.js"></script>
<script src="/js/search.js"></script>


<script src="//cdn.bootcss.com/typed.js/2.0.10/typed.min.js"></script>


<script src="//cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script>


<script src="//cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>


<script src="https://cdn.bootcss.com/codemirror/5.48.4/codemirror.min.js"></script>

    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/javascript/javascript.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/css/css.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/xml/xml.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/htmlmixed/htmlmixed.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/clike/clike.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/php/php.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/shell/shell.min.js"></script>


    
<script src="//cdn.bootcss.com/codemirror/5.48.4/mode/python/python.min.js"></script>




    
<script src="/js/busuanzi.min.js"></script>

    <script>
        $(document).ready(function () {
            if ($('span[id^="busuanzi_"]').length) {
                initialBusuanzi();
            }
        });
    </script>



<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="//cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css">


<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="//cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="//www.googletagmanager.com/gtag/js?id=UA-149874671-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-149874671-1');
    </script>





<script>
    function initialTyped () {
        var typedTextEl = $('.typed-text');
        if (typedTextEl && typedTextEl.length > 0) {
            var typed = new Typed('.typed-text', {
                strings: ["Where there is a will,there is a way！", "有志者，事竟成！"],
                typeSpeed: 90,
                loop: true,
                loopCount: Infinity,
                backSpeed: 20,
            });
        }
    }

    if ($('.article-header') && $('.article-header').length) {
        $(document).ready(function () {
            initialTyped();
        });
    }
</script>




</html>
